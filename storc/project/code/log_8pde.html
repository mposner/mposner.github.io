<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>StoRC: log.pde File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">StoRC
   
   </div>
   <div id="projectbrief">Autonomous Payload Delivery System</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('log_8pde.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">log.pde File Reference</div>  </div>
</div>
<div class="contents">

<p>Flash memory logging functions.  
<a href="#details">More...</a></p>

<p><a href="log_8pde_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8pde.html#a5104c96db495828f3312e206a7f2329e">get_num_logs</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8pde.html#a1d92e4e401e8210f92ee4b44cdf56ba9">start_new_log</a> (byte num_existing_logs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8pde.html#ad20147839f2ac2c4acb644050f1d97d1">get_log_boundaries</a> (byte log_num, int &amp;start_page, int &amp;end_page)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8pde.html#ac6a392810cdf6958f481b3c0789df91e">find_last_log_page</a> (int bottom_page)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8pde.html#a7e3e2cfbd827d2867f7b8f35dd8f7a76">Log_Write_IMU</a> (float gyro_x, float gyro_y, float gyro_z, float accel_x, float accel_y, float accel_z)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8pde.html#a2046716b03b637a66d4f91d1acd2b5f9">Log_Write_GPS</a> (long log_day, long log_hour, long log_minute, long log_second, long log_latitude, long log_longitude, long log_altitude, long log_ground_speed, long log_ground_course)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8pde.html#afbeb40204253063585e569a1b8e249d1">Log_Write_Barometer</a> (float temp, float press)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8pde.html#a10480e44ab9eaa3009a2885c2adab228">Log_Write_RC</a> (int elevator, int rudder, int throttle, int ch4, int ch5, int ch6, int ch7, int ch8)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8pde.html#a2479d1c46862a6e13c7e43d605f30883">Log_Write_Airspeed</a> (float a)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8pde.html#a9c43819334e2ef704c40fc75dbf477e4">Log_Write_Magnetometer</a> (float h, float r, float p, float y)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8pde.html#a8122e99ee0a1358f3287d8f1c291f715">Log_Write_Controls_Rudder</a> (float kpRud, float kpRudGm, float kdRud, float kdRudGm, float kiRud, float kiRudGm, float iRud, float delta)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8pde.html#a6a0699adb07f04170b77ce23719cd7c0">Log_Write_Controls_Elevator</a> (float kpEle, float kpEleGm, float kpRp, float kiEle, float kiEleGm, float iEle, float delta)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8pde.html#a3df5e7790ddb23a99756039378b72370">Log_Write_Controls_Throttle</a> (float kpThr, float kpThrGm, float kiThr, float kiThrGm, float iThr, float delAlt, float delta)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8pde.html#a874c7b4735343dcf9802b0ab49f2afb7">Log_Write_State</a> (boolean drop_status, int logging_switch, boolean windProfile, float avgWindNS, float avgWindEW, float driftNS, float driftEW)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8pde.html#ad1b64ba0a4555ad47e07cac05067777e">Log_Write_Navigation</a> (long latc, long lonc, long delLat, long delLon, float psic, float psierror, float phic, long dropThresh)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Flash memory logging functions. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Michael Posner (CIS, MEAM '12) </dd>
<dd>
Timothy Hennelly (ESE '12) </dd>
<dd>
Jacob Orloff (MEAM '12)</dd></dl>
<p>logging file, mostly copied from ArduPilot. this allows us to write to the flash memory. when a logging Write() function is changed here, make sure its appropriate Read() counterpart is changed in the default code you use to download the log. (it will give an Error Reading END_BYTE error if the read() formate doesnt match the format that the data was written in below) Note: Instead of modifying the DataFlash library to write floats (kinda hard), instead a hack is to multiply the float value by 10^5 or whatever, then cast to long in the Write() function and write it using the long writing function. Then, in the Read() function, cast back to float and divide by 10^5. </p>

<p>Definition in file <a class="el" href="log_8pde_source.html">log.pde</a>.</p>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="ac6a392810cdf6958f481b3c0789df91e"></a><!-- doxytag: member="log.pde::find_last_log_page" ref="ac6a392810cdf6958f481b3c0789df91e" args="(int bottom_page)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int find_last_log_page </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bottom_page</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>ArduPilot Mega function. finds the last log page. </p>

<p>Definition at line <a class="el" href="log_8pde_source.html#l00180">180</a> of file <a class="el" href="log_8pde_source.html">log.pde</a>.</p>

</div>
</div>
<a class="anchor" id="ad20147839f2ac2c4acb644050f1d97d1"></a><!-- doxytag: member="log.pde::get_log_boundaries" ref="ad20147839f2ac2c4acb644050f1d97d1" args="(byte log_num, int &amp;start_page, int &amp;end_page)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void get_log_boundaries </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>log_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>start_page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>end_page</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>ArduPilot Mega function. figures out the boundaries of the log. </p>

<p>Definition at line <a class="el" href="log_8pde_source.html#l00135">135</a> of file <a class="el" href="log_8pde_source.html">log.pde</a>.</p>

</div>
</div>
<a class="anchor" id="a5104c96db495828f3312e206a7f2329e"></a><!-- doxytag: member="log.pde::get_num_logs" ref="a5104c96db495828f3312e206a7f2329e" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte get_num_logs </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>ArduPilot function. figures out how many logs are currently in flash memory. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the number of logs currently in flash memory </dd></dl>

<p>Definition at line <a class="el" href="log_8pde_source.html#l00052">52</a> of file <a class="el" href="log_8pde_source.html">log.pde</a>.</p>

</div>
</div>
<a class="anchor" id="a2479d1c46862a6e13c7e43d605f30883"></a><!-- doxytag: member="log.pde::Log_Write_Airspeed" ref="a2479d1c46862a6e13c7e43d605f30883" args="(float a)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Log_Write_Airspeed </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Logs Airspeed value </p>

<p>Definition at line <a class="el" href="log_8pde_source.html#l00294">294</a> of file <a class="el" href="log_8pde_source.html">log.pde</a>.</p>

</div>
</div>
<a class="anchor" id="afbeb40204253063585e569a1b8e249d1"></a><!-- doxytag: member="log.pde::Log_Write_Barometer" ref="afbeb40204253063585e569a1b8e249d1" args="(float temp, float press)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Log_Write_Barometer </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>temp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>press</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Logs barometer data. </p>

<p>Definition at line <a class="el" href="log_8pde_source.html#l00260">260</a> of file <a class="el" href="log_8pde_source.html">log.pde</a>.</p>

</div>
</div>
<a class="anchor" id="a6a0699adb07f04170b77ce23719cd7c0"></a><!-- doxytag: member="log.pde::Log_Write_Controls_Elevator" ref="a6a0699adb07f04170b77ce23719cd7c0" args="(float kpEle, float kpEleGm, float kpRp, float kiEle, float kiEleGm, float iEle, float delta)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Log_Write_Controls_Elevator </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>kpEle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>kpEleGm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>kpRp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>kiEle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>kiEleGm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>iEle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>delta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Logs elevator controls values </p>

<p>Definition at line <a class="el" href="log_8pde_source.html#l00345">345</a> of file <a class="el" href="log_8pde_source.html">log.pde</a>.</p>

</div>
</div>
<a class="anchor" id="a8122e99ee0a1358f3287d8f1c291f715"></a><!-- doxytag: member="log.pde::Log_Write_Controls_Rudder" ref="a8122e99ee0a1358f3287d8f1c291f715" args="(float kpRud, float kpRudGm, float kdRud, float kdRudGm, float kiRud, float kiRudGm, float iRud, float delta)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Log_Write_Controls_Rudder </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>kpRud</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>kpRudGm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>kdRud</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>kdRudGm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>kiRud</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>kiRudGm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>iRud</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>delta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Logs rudder controls values </p>

<p>Definition at line <a class="el" href="log_8pde_source.html#l00325">325</a> of file <a class="el" href="log_8pde_source.html">log.pde</a>.</p>

</div>
</div>
<a class="anchor" id="a3df5e7790ddb23a99756039378b72370"></a><!-- doxytag: member="log.pde::Log_Write_Controls_Throttle" ref="a3df5e7790ddb23a99756039378b72370" args="(float kpThr, float kpThrGm, float kiThr, float kiThrGm, float iThr, float delAlt, float delta)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Log_Write_Controls_Throttle </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>kpThr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>kpThrGm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>kiThr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>kiThrGm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>iThr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>delAlt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>delta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Logs throttle controls values </p>

<p>Definition at line <a class="el" href="log_8pde_source.html#l00364">364</a> of file <a class="el" href="log_8pde_source.html">log.pde</a>.</p>

</div>
</div>
<a class="anchor" id="a2046716b03b637a66d4f91d1acd2b5f9"></a><!-- doxytag: member="log.pde::Log_Write_GPS" ref="a2046716b03b637a66d4f91d1acd2b5f9" args="(long log_day, long log_hour, long log_minute, long log_second, long log_latitude, long log_longitude, long log_altitude, long log_ground_speed, long log_ground_course)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Log_Write_GPS </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>log_day</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>log_hour</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>log_minute</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>log_second</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>log_latitude</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>log_longitude</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>log_altitude</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>log_ground_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>log_ground_course</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>modified function from ArduPilot Mega. Logs GPS data. Note that the GPS library already returns longitude and latitude as their actual values * 10^7, as well as the altitude, ground speed, and ground course as their actual values * 100, so there's no need to multiply before saving as longs. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">log_day</td><td>the number of the day of the week (0=Sun, 1=Mon, ... 6=Sat) </td></tr>
    <tr><td class="paramname">log_hour</td><td>the hour of the current day (0 - 23) </td></tr>
    <tr><td class="paramname">log_minute</td><td>the minute of the current hour (0 - 59) </td></tr>
    <tr><td class="paramname">log_second</td><td>the second of the current minute (0-59) </td></tr>
    <tr><td class="paramname">log_latitude</td><td>the GPS latitude, multiplied by 10^7 (this is necessary to log in long format while keeping significant digits) </td></tr>
    <tr><td class="paramname">log_longitude</td><td>the GPS longitude, multiplied by 10^7 (this is necessary to log in long format while keeping significant digits) </td></tr>
    <tr><td class="paramname">log_altitude</td><td>the altitude in cm (m * 100) </td></tr>
    <tr><td class="paramname">log_ground_speed</td><td>the ground speed in cm/s (m/s * 100) </td></tr>
    <tr><td class="paramname">log_ground_course</td><td>the ground course in hundredths of a degree (deg * 100) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="log_8pde_source.html#l00238">238</a> of file <a class="el" href="log_8pde_source.html">log.pde</a>.</p>

</div>
</div>
<a class="anchor" id="a7e3e2cfbd827d2867f7b8f35dd8f7a76"></a><!-- doxytag: member="log.pde::Log_Write_IMU" ref="a7e3e2cfbd827d2867f7b8f35dd8f7a76" args="(float gyro_x, float gyro_y, float gyro_z, float accel_x, float accel_y, float accel_z)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Log_Write_IMU </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>gyro_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>gyro_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>gyro_z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>accel_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>accel_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>accel_z</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>modified function from ArduPilot Mega. Logs IMU data. Be careful when casting from float to long! long is an integer type and cannot store decimals. so this function takes in floats, but since the flash library can't write floats (I looked into modifying it, but this hack is easier), I multiply the float by 10000 and then cast to a long. Then the corresponding Read function divides by 10000 before writing to the text file. </p>

<p>Definition at line <a class="el" href="log_8pde_source.html#l00207">207</a> of file <a class="el" href="log_8pde_source.html">log.pde</a>.</p>

</div>
</div>
<a class="anchor" id="a9c43819334e2ef704c40fc75dbf477e4"></a><!-- doxytag: member="log.pde::Log_Write_Magnetometer" ref="a9c43819334e2ef704c40fc75dbf477e4" args="(float h, float r, float p, float y)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Log_Write_Magnetometer </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Logs magnetometer values </p>

<p>Definition at line <a class="el" href="log_8pde_source.html#l00308">308</a> of file <a class="el" href="log_8pde_source.html">log.pde</a>.</p>

</div>
</div>
<a class="anchor" id="ad1b64ba0a4555ad47e07cac05067777e"></a><!-- doxytag: member="log.pde::Log_Write_Navigation" ref="ad1b64ba0a4555ad47e07cac05067777e" args="(long latc, long lonc, long delLat, long delLon, float psic, float psierror, float phic, long dropThresh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Log_Write_Navigation </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>latc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>lonc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>delLat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>delLon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>psic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>psierror</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>phic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>dropThresh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Logs navigation values </p>

<p>Definition at line <a class="el" href="log_8pde_source.html#l00414">414</a> of file <a class="el" href="log_8pde_source.html">log.pde</a>.</p>

</div>
</div>
<a class="anchor" id="a10480e44ab9eaa3009a2885c2adab228"></a><!-- doxytag: member="log.pde::Log_Write_RC" ref="a10480e44ab9eaa3009a2885c2adab228" args="(int elevator, int rudder, int throttle, int ch4, int ch5, int ch6, int ch7, int ch8)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Log_Write_RC </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>elevator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rudder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>throttle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ch4</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ch5</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ch6</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ch7</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ch8</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Logs RC servo values. </p>

<p>Definition at line <a class="el" href="log_8pde_source.html#l00274">274</a> of file <a class="el" href="log_8pde_source.html">log.pde</a>.</p>

</div>
</div>
<a class="anchor" id="a874c7b4735343dcf9802b0ab49f2afb7"></a><!-- doxytag: member="log.pde::Log_Write_State" ref="a874c7b4735343dcf9802b0ab49f2afb7" args="(boolean drop_status, int logging_switch, boolean windProfile, float avgWindNS, float avgWindEW, float driftNS, float driftEW)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Log_Write_State </td>
          <td>(</td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>drop_status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>logging_switch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>windProfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>avgWindNS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>avgWindEW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>driftNS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>driftEW</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Logs code state (drop status, logging switch) </p>

<p>Definition at line <a class="el" href="log_8pde_source.html#l00383">383</a> of file <a class="el" href="log_8pde_source.html">log.pde</a>.</p>

</div>
</div>
<a class="anchor" id="a1d92e4e401e8210f92ee4b44cdf56ba9"></a><!-- doxytag: member="log.pde::start_new_log" ref="a1d92e4e401e8210f92ee4b44cdf56ba9" args="(byte num_existing_logs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void start_new_log </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>num_existing_logs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>ArduPilot Mega function. starts a new log file. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">num_existing_logs</td><td>the number of logs already in memory, as returned by get_num_logs} </td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="log_8pde.html#a5104c96db495828f3312e206a7f2329e">get_num_logs</a> </dd></dl>

<p>Definition at line <a class="el" href="log_8pde_source.html#l00096">96</a> of file <a class="el" href="log_8pde_source.html">log.pde</a>.</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="log_8pde.html">log.pde</a>      </li>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


    <li class="footer">Generated on Thu Apr 26 2012 16:03:43 for StoRC by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
